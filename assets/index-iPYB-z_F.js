import{h as K}from"./kaplay-bxqp4ndF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();K({width:1280,height:720,canvas:document.querySelector("#mycanvas"),letterbox:!0});function A(o){return 1+.7*Math.sin(o*2*Math.PI*2)/Math.exp(o*4)}function v(o,r,s,n){loadSprite(o,r).then(e=>{let t=getSprite(o).data,a=add([pos(s,n),particles({max:20,lifeTime:[2,5],speed:[50,200],acceleration:[vec2(0),vec2(0,-10)],damping:[0,.5],angle:[0,40],angularVelocity:[-20,-20],scales:[.1],opacities:[1,0],texture:t.tex,quads:t.frames},{shape:new Rect(vec2(0),32,32),lifetime:5,rate:5,direction:-90,spread:20})]);a.onEnd(()=>{destroy(a)}),a.emit(5)})}function c({message:o="",x:r=center().x,y:s=center().y-200}={}){if(!m){play("beep",{volume:1});var n="";const t=20;for(var e=0;e<o.length;){let h=e+t;if(h>=o.length){n+=o.substring(e);break}let u=o.lastIndexOf(" ",h);u<=e&&(u=h),n+=o.substring(e,u)+`
`,e=u+1}const a=add([anchor("center"),pos(r,s),rect(400,100,{radius:8}),outline(4,BLACK),scale(.1),opacity(1),{time:0,scaleTime:0}]),p=a.add([anchor("center"),text(n,{size:26,opacity:1}),color(BLACK)]);a.onUpdate(()=>{a.time+=dt(),a.scaleTo(A(a.time*2)),a.time>2&&(a.opacity-=dt(),p.opacity-=dt()/2)})}}const _=250;vec2(Math.cos(0),Math.sin(0)).scale(_),vec2(Math.cos(Math.PI/3),Math.sin(Math.PI/3)).scale(_),vec2(Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)).scale(_),vec2(Math.cos(Math.PI),Math.sin(Math.PI)).scale(_),vec2(Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)).scale(_),vec2(Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)).scale(_);let m=!1;function C(o){m=o}let f=0;function x(o){f=o}function w(){add([pos(10,10),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([pos(10,10),scale(2),text(`munny: ${f}`,{size:26,opacity:1}),color(BLACK)])}const T=[{name:"werm",price:100,sprite:"werm",bought:!1},{name:"eye",price:250,sprite:"eye",bought:!1},{name:"hat",price:50,sprite:"eye",bought:!1}];loadRoot("./");loadSprite("nublin","/sprites/pets/nublin.png");loadSprite("werm","/sprites/pets/werm.png");loadSprite("eye","/sprites/pets/eye.png");loadSprite("bg_day","/sprites/backgrounds/morning_bg.png");loadSprite("button_feed","/sprites/buttons/button_feed.png");loadSprite("button_feed_pressed","/sprites/buttons/button_feed_pushed.png");loadSprite("button_kill","/sprites/buttons/button_kill.png");loadSprite("button_kill_pressed","/sprites/buttons/button_kill_pushed.png");loadSprite("button_play","/sprites/buttons/button_play.png");loadSprite("button_play_pressed","/sprites/buttons/button_play_pushed.png");loadSprite("button_shop","/sprites/buttons/button_shop.png");loadSprite("button_shop_pressed","/sprites/buttons/button_shop_pushed.png");loadSprite("apple","/sprites/objects/apple.png");loadSprite("grave","/sprites/objects/grave.png");loadSprite("poop","/sprites/objects/poop.png");loadSprite("poison","/sprites/particles/effect_poison.png");loadSprite("flame","/sprites/particles/effect_flame.png");loadSprite("heart","/sprites/particles/effect_heart.png");loadSprite("enemy","/sprites/objects/enemy.png");loadSprite("enemy2","/sprites/objects/enemy2.png");loadSprite("bg_night","/sprites/backgrounds/night_bg.png");loadSprite("sword","/sprites/objects/sword.png");loadSprite("hit","/sprites/particles/effect_hit.png");loadSprite("ammo","/sprites/objects/ammo_icon.png");loadSprite("wizard","/sprites/wizard.png");loadSprite("button_exit","/sprites/buttons/button_exit.png");loadSprite("button_exit_pushed","/sprites/buttons/button_exit_pushed.png");loadSound("beep","/sounds/beep.mp3");loadSound("click","/sounds/click.mp3");loadSound("eat","/sounds/eat.mp3");loadSound("meow","/sounds/meow.wav");loadSound("bong","/sounds/bell.mp3");loadSound("fart","/sounds/fart.mp3");loadSound("bullet","/sounds/bullet.wav");loadSound("reload","/sounds/reload.mp3");loadSound("night_song","/sounds/skeleton_song.mp3");loadSound("hurt","/sounds/snd_hurt1.wav");loadSound("punch","/sounds/punch.wav");loadSound("bell","/sounds/snd_bell.wav");loadSound("warning","/sounds/warning.mp3");loadSound("combo1","/sounds/combo1.mp3");loadSound("combo2","/sounds/combo2.mp3");loadSound("combo3","/sounds/combo3.mp3");loadSound("combo4","/sounds/combo4.mp3");loadSound("combo5","/sounds/combo5.mp3");loadSound("empty","/sounds/empty.mp3");loadSound("dash","/sounds/snd_bombsplosion.wav");loadSound("buy","/sounds/buy.wav");scene("play",()=>{const o=play("night_song",{volume:.15});onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});var r=0,s=3;function n(){add([pos(rand(0,width()),-30),sprite("apple"),anchor("center"),area(),scale(.2),move(DOWN,200),"apple"]),wait(rand(0,3-r),n)}const e=add([pos(center().x,height()-100),sprite("nublin"),anchor("center"),area(),scale(.2),rotate(0),animate(),{time:0,prevPos:center().clone()},"pet"]);onUpdate(()=>{const i=mousePos(),l=i.x-e.pos.x,S=i.x-Math.sign(l)*Math.min(Math.abs(l),0);e.pos.x=e.pos.x+(S-e.pos.x)*.1,e.angle=l/20,e.prevPos=e.pos.clone()});var t=[];function a(){for(const l of t)l.destroy();t=[];for(var i=0;i<s;i++){const l=add([pos(width()-100-i*70,20),sprite("heart"),scale(.2),opacity(1)]);t[i]=l}}var p=0,h=vec2(240,10),u,b=0;onCollide("apple","pet",(i,l)=>{i.destroy(),p+=10,play("eat"),v("hit","/sprites/particles/effect_heal.png",i.pos.x,i.pos.y),shake(),u&&u.destroy(),u=g.add([pos(10,10),scale(2),text(`score: ${p}`,{size:26,opacity:1}),color(BLACK)]),p%100===0&&wait(.5,()=>{play("bell"),x(f+5),w(),b+=5})}),onUpdate("apple",i=>{i.pos.y>height()+30&&(i.destroy(),s-=1,a(),play("hurt"),shake(),s<=0&&(e.destroy(),o.stop(),add([anchor("center"),pos(center()),rect(700,300,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([anchor("center"),scale(2),text(`game over
ur score: ${p}
munny earned: ${b}`,{size:26,opacity:1}),color(BLACK)]),wait(2,()=>{go("main")})))}),onUpdate(()=>{r+=dt()*.04,r=Math.min(r,2.5)});const g=add([pos(h),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]);u=g.add([pos(10,10),scale(2),text(`Score: ${p}`,{size:26,opacity:1}),color(BLACK)]),a(),n(),w(),onKeyPress("p",()=>{o.stop(),go("play")}),onKeyPress("escape",()=>{o.stop("night_song"),go("main")})});const B=["wah wah wah!!","u listen to da strokes?","*sniff* *sniff* did u shower?","i shure hope craig getshired lol","meow","i love u","heh hehhhhh...","im on my evil grind","im just chillen!"];function I(){wait(rand(10,30),()=>{if(!m){const o=B[randi(0,B.length-1)];c({message:o})}I()})}scene("main",()=>{function o(){m||wait(rand(0,40),()=>{const y=add([pos(center().x+rand(0,600),center().y+rand(0,200)),sprite("poop"),anchor("center"),area(),scale(.5),{time:0},"poop"]);l++,y.onClick(()=>{var L=randi(0,10);L==1&&c({message:"u betta wash ya hands b4 u feed me nasty :p"}),play("beep"),v("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),y.destroy(),l--}),o()})}const r=.1,s=.5,n=["nublin","werm","eye"];let e=1,t=40,a=100,p=0,h=!1,u=!1,b=1,g=!1,i=!1,l=0;onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});const d=add([pos(center()),sprite("nublin"),anchor("center"),area(),scale(.5),animate(),{time:0},"pet"]),S=add([pos(center().x,center().y+280),sprite("button_feed"),anchor("center"),area(),scale(1),{time:0},"button_feed"]),P=add([pos(center().x+250,center().y+280),sprite("button_kill"),anchor("center"),area(),scale(1),{time:0},"button_kill"]),k=add([pos(center().x-250,center().y+280),sprite("button_play"),anchor("center"),area(),scale(1),{time:0},"button_play"]),M=add([pos(width()-100,60),sprite("button_shop"),anchor("center"),area(),scale(.7),{time:0},"button_shop"]);w(),wait(e-.5,()=>{c({message:"heh... ima pet!takea good care of me >:3 "})}),d.onUpdate(()=>{d.pos=d.pos.lerp(vec2(center().x+(mousePos().x-center().x)*r,center().y+(mousePos().y-center().y)*r),.04),d.time+=dt(),d.pos.y+=Math.sin(d.time*4),t-=dt(),u&&(b-=dt(),b<=0&&t<a&&(b=2,u=!1,g=!0)),g&&t<a&&(d.scaleBy(.99),d.scale<=vec2(.5,.5)&&(g=!1)),t<20&&!i?(c({message:"mannnn..... im hungy...."}),i=!0):t>20&&i&&(i=!1),(m||t<=0&&!m)&&(shake(),c({message:"im dead asl ðŸ’€"}),C(!0),d.destroy(),add([pos(center()),sprite("grave"),anchor("center"),area(),scale(2),animate(),{time:0},"grave"]),play("bong",{volume:.3}))}),o(),I(),d.onClick(()=>{if(h){if(time()-e>=s)if(!l&&t<a){var y=randi(0,10);y==1&&c({message:"yyummerzz >:3"}),v("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),play("eat",{volume:.3}),d.scaleBy(1.05),h=!1,b=5,u=!0,m||(t+=20)}else l>0&&t>=a?(v("poison","/sprites/particles/effect_poison.png",mousePos().x,mousePos().y),c({message:"im seriously gonna throw up get that away from mee"})):l>0?(c({message:"theres like.. poop right there. nasty"}),e=time()):(c({message:"im rly fullll bro."}),e=time())}else time()-e>=s&&(e=time(),v("heart","/sprites/particles/effect_heart.png",mousePos().x,mousePos().y),play("meow",{volume:1}))}),onKeyPress("a",()=>{p=(p-1+n.length)%n.length,d.sprite=n[p]}),onKeyPress("d",()=>{p=(p+1)%3,d.sprite=n[p]}),onClick("button_feed",()=>{const y=add([pos(mousePos()),sprite("apple"),anchor("center"),area(),scale(.5),{time:0},"apple"]);S.sprite="button_feed_pressed",play("click",{volume:.3}),h=!h,onUpdate(()=>{y.pos=mousePos(),h||(y.destroy(),S.sprite="button_feed")})}),onMousePress("right",()=>{h=!1}),onClick("button_kill",()=>{C(!0),P.sprite="button_kill_pressed",wait(.2,()=>{P.sprite="button_kill"})}),onClick("button_play",()=>{k.sprite="button_play_pressed",wait(.2,()=>{k.sprite="button_play"}),m||go("play")}),onClick("button_shop",()=>{M.sprite="button_shop_pressed",play("click"),wait(.2,()=>{M.sprite="button_shop",m||go("shop")})})});scene("shop",()=>{onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})}),add([pos(center()),sprite("wizard"),anchor("center"),area(),scale(.5),animate(),"wizard"]);var o=!1;T.forEach((s,n)=>{if(!s.bought){o=!0;const t=200,a=50;var e=s.price<=f?YELLOW:RED;add([color(e),anchor("center"),pos(t/2+10,height()-n*60-a/2-10),rect(t,a,{radius:8}),outline(4,BLACK),scale(1),opacity(1),area(),s,{time:0,scaleTime:0},"shopItem"]).add([anchor("center"),color(BLACK),text(`${s.name} - $${s.price}`,{size:24}),layer("ui"),area()]),add([anchor("center"),color(BLACK),text("add munny +10"),layer("ui"),area(),s,"addMunny"])}o||c({message:"my items are gone youve ruined me"})}),onClick("shopItem",s=>{if(f>=s.price)x(f-s.price),c({message:`here's your ${s.name}!`}),play("buy",{volume:.3}),w(),s.destroy(),s.bought=!0;else{switch(randi(0,10)){case 0:c({message:"come back when you're a little... ermmmm. richerrrr!"});break;case 1:c({message:"you dont have enough munny!"});break;case 2:c({message:"get lost brokie..."});break}play("hurt")}}),onClick("addMunny",s=>{x(f+10),c({message:"You added 10 munny!"}),play("click"),w()});const r=add([pos(width()-100,60),sprite("button_exit"),anchor("center"),area(),scale(.7),{time:0},"button_exit"]);onClick("button_exit",()=>{play("click"),r.sprite="button_exit_pushed",wait(.2,()=>{r.sprite="button_exit",go("main")})}),w()});go("main");
//# sourceMappingURL=index-iPYB-z_F.js.map
