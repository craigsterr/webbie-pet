import{h as P}from"./kaplay-bxqp4ndF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();P({width:1280,height:720,canvas:document.querySelector("#mycanvas"),letterbox:!0});loadRoot("./");loadSprite("nublin","/sprites/pets/nublin.png");loadSprite("werm","/sprites/pets/werm.png");loadSprite("eye","/sprites/pets/eye.png");loadSprite("bg_day","/sprites/backgrounds/morning_bg.png");loadSprite("button_feed","/sprites/buttons/button_feed.png");loadSprite("button_feed_pressed","/sprites/buttons/button_feed_pushed.png");loadSprite("button_kill","/sprites/buttons/button_kill.png");loadSprite("button_kill_pressed","/sprites/buttons/button_kill_pushed.png");loadSprite("button_play","/sprites/buttons/button_play.png");loadSprite("button_play_pressed","/sprites/buttons/button_play_pushed.png");loadSprite("apple","/sprites/objects/apple.png");loadSprite("grave","/sprites/objects/grave.png");loadSprite("poop","/sprites/objects/poop.png");loadSprite("poison","/sprites/objects/effect_poison.png");loadSound("beep","/sounds/beep.mp3");loadSound("click","/sounds/click.mp3");loadSound("eat","/sounds/eat.mp3");loadSound("meow","/sounds/meow.wav");loadSound("bell","/sounds/bell.mp3");loadSound("fart","/sounds/fart.mp3");function k(n){return 1+.7*Math.sin(n*2*Math.PI*2)/Math.exp(n*4)}function y(n,r,l,o){loadSprite(n,r).then(e=>{let t=getSprite(n).data,a=add([pos(l,o),particles({max:20,lifeTime:[2,5],speed:[50,200],acceleration:[vec2(0),vec2(0,-10)],damping:[0,.5],angle:[0,40],angularVelocity:[-20,-20],scales:[.1],opacities:[1,0],texture:t.tex,quads:t.frames},{shape:new Rect(vec2(0),32,32),lifetime:5,rate:5,direction:-90,spread:20})]);a.onEnd(()=>{destroy(a)}),a.emit(5)})}function p({message:n="",x:r=center().x,y:l=center().y-200}={}){play("beep",{volume:1});const o=add([anchor("center"),pos(r,l),rect(400,100,{radius:8}),outline(4,BLACK),scale(.1),opacity(1),{time:0,scaleTime:0}]),e=o.add([anchor("center"),text(n,{size:26,opacity:1}),color(BLACK)]);o.onUpdate(()=>{o.time+=dt(),o.scaleTo(k(o.time*2)),o.time>2&&(o.opacity-=dt(),e.opacity-=dt()/2)})}scene("main",()=>{function n(){wait(rand(0,40),()=>{const i=add([pos(center().x+rand(0,600),center().y+rand(0,200)),sprite("poop"),anchor("center"),area(),scale(.5),{time:0},"poop"]);m++,i.onClick(()=>{var w=randi(0,10);w==1&&p({message:`u betta wash ya hands
 b4 u feed me nasty :p`}),play("beep"),y("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),i.destroy(),m--}),n()})}const r=.1,l=.5,o=["nublin","werm","eye"];let e=1,t=40,a=100,c=0,d=!1,g=!1,f=1,h=!1,b=!1,u=!1,m=0;onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});const s=add([pos(center()),sprite("nublin"),anchor("center"),area(),scale(.5),animate(),{time:0},"pet"]),_=add([pos(center().x,center().y+280),sprite("button_feed"),anchor("center"),area(),scale(1),{time:0},"button_feed"]),S=add([pos(center().x+250,center().y+280),sprite("button_kill"),anchor("center"),area(),scale(1),{time:0},"button_kill"]),v=add([pos(center().x-250,center().y+280),sprite("button_play"),anchor("center"),area(),scale(1),{time:0},"button_play"]);wait(e-.5,()=>{p({message:`heh... ima pet!
takea good care of me >:3 `})}),wait(e-.5,()=>{p({message:`heh... ima pet!
takea good care of me >:3 `})}),s.onUpdate(()=>{s.pos=s.pos.lerp(vec2(center().x+(mousePos().x-center().x)*r,center().y+(mousePos().y-center().y)*r),.04),s.time+=dt(),s.pos.y+=Math.sin(s.time*4),t-=dt(),g&&(f-=dt(),f<=0&&t<a&&(f=2,g=!1,h=!0)),h&&t<a&&(s.scaleBy(.99),s.scale<=vec2(.5,.5)&&(h=!1)),t<20&&!b?(p({message:`mannnn.....
 im hungy....`}),b=!0):t>20&&b&&(b=!1),(u||t<=0&&!u)&&(p({message:"im dead asl ðŸ’€"}),u=!0,s.destroy(),add([pos(center()),sprite("grave"),anchor("center"),area(),scale(2),animate(),{time:0},"grave"]),play("bell",{volume:.3}))}),n(),s.onClick(()=>{if(d){if(time()-e>=l)if(!m&&t<a){var i=randi(0,10);i==1&&p({message:"yyummerzz >:3"}),y("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),play("eat",{volume:.3}),s.scaleBy(1.05),d=!1,f=5,g=!0,u||(t+=20)}else if(m>0&&t>=a)y("poison","/sprites/particles/effect_poison.png",mousePos().x,mousePos().y),p({message:`im seriously gonna throw up
 get that away from mee`});else if(m>0){var i=randi(0,2);i==1&&p({message:`theres like.. poop
 right there. nasty`}),e=time()}else{var i=randi(0,3);i==1&&p({message:"im fucken fullll bro."}),e=time()}}else time()-e>=l&&(e=time(),y("heart","/sprites/particles/effect_heart.png",mousePos().x,mousePos().y),play("meow",{volume:1}))}),onKeyPress("a",()=>{c=(c-1+o.length)%o.length,s.sprite=o[c]}),onKeyPress("d",()=>{c=(c+1)%3,s.sprite=o[c]}),onClick("button_feed",()=>{const i=add([pos(mousePos()),sprite("apple"),anchor("center"),area(),scale(.5),{time:0},"apple"]);_.sprite="button_feed_pressed",play("click",{volume:.3}),d=!d,onUpdate(()=>{i.pos=mousePos(),d||(i.destroy(),_.sprite="button_feed")})}),onMousePress("right",()=>{d=!1}),onClick("button_kill",()=>{u=!0,S.sprite="button_kill_pressed",wait(.2,()=>{S.sprite="button_kill"})}),onClick("button_play",()=>{p({message:"coming soon."}),v.sprite="button_play_pressed",wait(.2,()=>{v.sprite="button_play"})})});go("main");
//# sourceMappingURL=index-Cr-yMOEQ.js.map
