import{h as L}from"./kaplay-bxqp4ndF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();L({width:1280,height:720,canvas:document.querySelector("#mycanvas"),letterbox:!0});function T(t){return 1+.7*Math.sin(t*2*Math.PI*2)/Math.exp(t*4)}function w(t,r,a,n){loadSprite(t,r).then(e=>{let o=getSprite(t).data,s=add([pos(a,n),particles({max:20,lifeTime:[2,5],speed:[50,200],acceleration:[vec2(0),vec2(0,-10)],damping:[0,.5],angle:[0,40],angularVelocity:[-20,-20],scales:[.1],opacities:[1,0],texture:o.tex,quads:o.frames},{shape:new Rect(vec2(0),32,32),lifetime:5,rate:5,direction:-90,spread:20})]);s.onEnd(()=>{destroy(s)}),s.emit(5)})}function p({message:t="",x:r=center().x,y:a=center().y-200}={}){if(!m){play("beep",{volume:1});var n="";const o=20;for(var e=0;e<t.length;){let h=e+o;if(h>=t.length){n+=t.substring(e);break}let l=t.lastIndexOf(" ",h);l<=e&&(l=h),n+=t.substring(e,l)+`
`,e=l+1}const s=add([anchor("center"),pos(r,a),rect(400,100,{radius:8}),outline(4,BLACK),scale(.1),opacity(1),{time:0,scaleTime:0}]),d=s.add([anchor("center"),text(n,{size:26,opacity:1}),color(BLACK)]);s.onUpdate(()=>{s.time+=dt(),s.scaleTo(T(s.time*2)),s.time>2&&(s.opacity-=dt(),d.opacity-=dt()/2)})}}const g=250;vec2(Math.cos(0),Math.sin(0)).scale(g),vec2(Math.cos(Math.PI/3),Math.sin(Math.PI/3)).scale(g),vec2(Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)).scale(g),vec2(Math.cos(Math.PI),Math.sin(Math.PI)).scale(g),vec2(Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)).scale(g),vec2(Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)).scale(g);let m=!1;function P(t){m=t}let _=0;function C(t){_=t}function v(){add([pos(10,10),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([pos(10,10),scale(2),text(`munny: ${_}`,{size:26,opacity:1}),color(BLACK)])}const A=[{name:"guy",price:50,sprite:"logo",bought:!1},{name:"werm",price:100,sprite:"werm",bought:!1},{name:"eye",price:200,sprite:"eye",bought:!1}];var k="nublin";function K(t){k=t}loadRoot("./");loadSprite("nublin","/sprites/pets/nublin.png");loadSprite("werm","/sprites/pets/werm.png");loadSprite("eye","/sprites/pets/eye.png");loadSprite("bg_day","/sprites/backgrounds/morning_bg.png");loadSprite("button_feed","/sprites/buttons/button_feed.png");loadSprite("button_feed_pressed","/sprites/buttons/button_feed_pushed.png");loadSprite("button_kill","/sprites/buttons/button_kill.png");loadSprite("button_kill_pressed","/sprites/buttons/button_kill_pushed.png");loadSprite("button_play","/sprites/buttons/button_play.png");loadSprite("button_play_pressed","/sprites/buttons/button_play_pushed.png");loadSprite("button_shop","/sprites/buttons/button_shop.png");loadSprite("button_shop_pressed","/sprites/buttons/button_shop_pushed.png");loadSprite("apple","/sprites/objects/apple.png");loadSprite("grave","/sprites/objects/grave.png");loadSprite("poop","/sprites/objects/poop.png");loadSprite("poison","/sprites/particles/effect_poison.png");loadSprite("flame","/sprites/particles/effect_flame.png");loadSprite("heart","/sprites/particles/effect_heart.png");loadSprite("enemy","/sprites/objects/enemy.png");loadSprite("enemy2","/sprites/objects/enemy2.png");loadSprite("bg_night","/sprites/backgrounds/night_bg.png");loadSprite("sword","/sprites/objects/sword.png");loadSprite("hit","/sprites/particles/effect_hit.png");loadSprite("ammo","/sprites/objects/ammo_icon.png");loadSprite("wizard","/sprites/wizard.png");loadSprite("button_exit","/sprites/buttons/button_exit.png");loadSprite("button_exit_pushed","/sprites/buttons/button_exit_pushed.png");loadSprite("guy","/sprites/craig-logo.png");loadSound("beep","/sounds/beep.mp3");loadSound("click","/sounds/click.mp3");loadSound("eat","/sounds/eat.mp3");loadSound("meow","/sounds/meow.wav");loadSound("bong","/sounds/bell.mp3");loadSound("fart","/sounds/fart.mp3");loadSound("bullet","/sounds/bullet.wav");loadSound("reload","/sounds/reload.mp3");loadSound("night_song","/sounds/skeleton_song.mp3");loadSound("hurt","/sounds/snd_hurt1.wav");loadSound("punch","/sounds/punch.wav");loadSound("bell","/sounds/snd_bell.wav");loadSound("warning","/sounds/warning.mp3");loadSound("combo1","/sounds/combo1.mp3");loadSound("combo2","/sounds/combo2.mp3");loadSound("combo3","/sounds/combo3.mp3");loadSound("combo4","/sounds/combo4.mp3");loadSound("combo5","/sounds/combo5.mp3");loadSound("empty","/sounds/empty.mp3");loadSound("dash","/sounds/snd_bombsplosion.wav");loadSound("buy","/sounds/buy.wav");scene("play",()=>{const t=play("night_song",{volume:.15});onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});var r=0,a=3;function n(){add([pos(rand(0,width()),-30),sprite("apple"),anchor("center"),area(),scale(.2),move(DOWN,200),"apple"]),wait(rand(0,3-r),n)}const e=add([pos(center().x,height()-100),sprite(k),anchor("center"),area(),scale(.2),rotate(0),animate(),{time:0,prevPos:center().clone()},"pet"]);onUpdate(()=>{const i=mousePos(),u=i.x-e.pos.x,S=i.x-Math.sign(u)*Math.min(Math.abs(u),0);e.pos.x=e.pos.x+(S-e.pos.x)*.1,e.angle=u/20,e.prevPos=e.pos.clone()});var o=[];function s(){for(const u of o)u.destroy();o=[];for(var i=0;i<a;i++){const u=add([pos(160-i*70,70),sprite("heart"),scale(.2),opacity(1)]);o[i]=u}}var d=0,h=vec2(240,10),l,f=0;onCollide("apple","pet",(i,u)=>{i.destroy(),d+=10,play("eat"),w("hit","/sprites/particles/effect_heal.png",i.pos.x,i.pos.y),shake(),l&&l.destroy(),l=b.add([pos(10,10),scale(2),text(`score: ${d}`,{size:26,opacity:1}),color(BLACK)]),d%100===0&&wait(.5,()=>{play("bell"),C(_+10),v(),f+=10})}),onUpdate("apple",i=>{i.pos.y>height()+30&&(i.destroy(),a-=1,s(),play("hurt"),shake(),a<=0&&(e.destroy(),t.stop(),add([anchor("center"),pos(center()),rect(700,300,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([anchor("center"),scale(2),text(`game over
ur score: ${d}
munny earned: ${f}`,{size:26,opacity:1}),color(BLACK)]),wait(2,()=>{go("main")})))}),onUpdate(()=>{r+=dt()*.04,r=Math.min(r,2.5)});const b=add([pos(h),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]);l=b.add([pos(10,10),scale(2),text(`Score: ${d}`,{size:26,opacity:1}),color(BLACK)]),s(),n(),v(),onKeyPress("p",()=>{t.stop(),go("play")});const c=add([pos(width()-100,60),sprite("button_exit"),anchor("center"),area(),scale(.7),{time:0},"button_exit"]);onClick("button_exit",()=>{play("click"),c.sprite="button_exit_pushed",wait(.2,()=>{c.sprite="button_exit",t.stop("night_song"),go("main")})})});const M=["wah wah wah!!","u listen to da strokes?","*sniff* *sniff* did u shower?","i shure hope craig getshired lol","meow","i love u","heh hehhhhh...","im on my evil grind","im just chillen!"];function B(){wait(rand(10,30),()=>{if(!m){const t=M[randi(0,M.length-1)];p({message:t})}B()})}scene("main",()=>{function t(){m||wait(rand(0,40),()=>{const y=add([pos(center().x+rand(0,600),center().y+rand(0,200)),sprite("poop"),anchor("center"),area(),scale(.5),{time:0},"poop"]);b++,y.onClick(()=>{var I=randi(0,10);I==1&&p({message:"u betta wash ya hands b4 u feed me nasty :p"}),play("beep"),w("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),y.destroy(),b--}),t()})}const r=.1,a=.5;let n=1,e=40,o=100,s=!1,d=!1,h=1,l=!1,f=!1,b=0;onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});const c=add([pos(center()),sprite(k),anchor("center"),area(),scale(.5),animate(),{time:0},"pet"]),i=add([pos(center().x,center().y+280),sprite("button_feed"),anchor("center"),area(),scale(1),{time:0},"button_feed"]),u=add([pos(center().x+250,center().y+280),sprite("button_kill"),anchor("center"),area(),scale(1),{time:0},"button_kill"]),x=add([pos(center().x-250,center().y+280),sprite("button_play"),anchor("center"),area(),scale(1),{time:0},"button_play"]),S=add([pos(width()-100,60),sprite("button_shop"),anchor("center"),area(),scale(.7),{time:0},"button_shop"]);v(),wait(n-.5,()=>{p({message:"heh... ima pet!takea good care of me >:3 "})}),c.onUpdate(()=>{c.pos=c.pos.lerp(vec2(center().x+(mousePos().x-center().x)*r,center().y+(mousePos().y-center().y)*r),.04),c.time+=dt(),c.pos.y+=Math.sin(c.time*4),e-=dt(),d&&(h-=dt(),h<=0&&e<o&&(h=2,d=!1,l=!0)),l&&e<o&&(c.scaleBy(.99),c.scale<=vec2(.5,.5)&&(l=!1)),e<20&&!f?(p({message:"mannnn..... im hungy...."}),f=!0):e>20&&f&&(f=!1),(m||e<=0&&!m)&&(shake(),p({message:"im dead asl ðŸ’€"}),P(!0),c.destroy(),add([pos(center()),sprite("grave"),anchor("center"),area(),scale(2),animate(),{time:0},"grave"]),play("bong",{volume:.3}))}),t(),B(),c.onClick(()=>{if(s){if(time()-n>=a)if(!b&&e<o){var y=randi(0,10);y==1&&p({message:"yyummerzz >:3"}),w("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),play("eat",{volume:.3}),c.scaleBy(1.05),s=!1,h=5,d=!0,m||(e+=20)}else b>0&&e>=o?(w("poison","/sprites/particles/effect_poison.png",mousePos().x,mousePos().y),p({message:"im seriously gonna throw up get that away from mee"})):b>0?(p({message:"theres like.. poop right there. nasty"}),n=time()):(p({message:"im rly fullll bro."}),n=time())}else time()-n>=a&&(n=time(),w("heart","/sprites/particles/effect_heart.png",mousePos().x,mousePos().y),play("meow",{volume:1}))}),onClick("button_feed",()=>{const y=add([pos(mousePos()),sprite("apple"),anchor("center"),area(),scale(.5),{time:0},"apple"]);i.sprite="button_feed_pressed",play("click",{volume:.3}),s=!s,onUpdate(()=>{y.pos=mousePos(),s||(y.destroy(),i.sprite="button_feed")})}),onMousePress("right",()=>{s=!1}),onClick("button_kill",()=>{P(!0),u.sprite="button_kill_pressed",wait(.2,()=>{u.sprite="button_kill"})}),onClick("button_play",()=>{x.sprite="button_play_pressed",wait(.2,()=>{x.sprite="button_play"}),m||go("play")}),onClick("button_shop",()=>{S.sprite="button_shop_pressed",play("click"),wait(.2,()=>{S.sprite="button_shop",m||go("shop")})})});scene("shop",()=>{onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})}),add([pos(center()),sprite("wizard"),anchor("center"),area(),scale(.5),animate(),"wizard"]);var t=!1;A.forEach((a,n)=>{if(!a.bought){t=!0;const o=200,s=50;var e=a.price<=_?YELLOW:RED;add([color(e),anchor("center"),pos(o/2+10,height()-n*60-s/2-10),rect(o,s,{radius:8}),outline(4,BLACK),scale(1),opacity(1),area(),a,{time:0,scaleTime:0},"shopItem"]).add([anchor("center"),color(BLACK),text(`${a.name} - $${a.price}`,{size:24}),layer("ui"),area()])}p(t?{message:"welcome to my shop!"}:{message:"my items are gone youve ruined me"})}),onClick("shopItem",a=>{if(_>=a.price)C(_-a.price),p({message:`here's your ${a.name}!`}),play("buy",{volume:.3}),v(),a.destroy(),a.bought=!0,K(a.name);else{switch(randi(0,10)){case 0:p({message:"come back when you're a little... ermmmm. richerrrr!"});break;case 1:p({message:"you dont have enough munny!"});break;case 2:p({message:"get lost brokie..."});break}play("hurt")}});const r=add([pos(width()-100,60),sprite("button_exit"),anchor("center"),area(),scale(.7),{time:0},"button_exit"]);onClick("button_exit",()=>{play("click"),r.sprite="button_exit_pushed",wait(.2,()=>{r.sprite="button_exit",go("main")})}),v()});go("main");
//# sourceMappingURL=index-DzyjaO0S.js.map
