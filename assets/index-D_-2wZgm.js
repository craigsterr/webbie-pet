import{h as A}from"./kaplay-bxqp4ndF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();A({width:1280,height:720,canvas:document.querySelector("#mycanvas"),letterbox:!0});function K(t){return 1+.7*Math.sin(t*2*Math.PI*2)/Math.exp(t*4)}function S(t,r,o,n){loadSprite(t,r).then(e=>{let s=getSprite(t).data,a=add([pos(o,n),particles({max:20,lifeTime:[2,5],speed:[50,200],acceleration:[vec2(0),vec2(0,-10)],damping:[0,.5],angle:[0,40],angularVelocity:[-20,-20],scales:[.1],opacities:[1,0],texture:s.tex,quads:s.frames},{shape:new Rect(vec2(0),32,32),lifetime:5,rate:5,direction:-90,spread:20})]);a.onEnd(()=>{destroy(a)}),a.emit(5)})}function p({message:t="",x:r=center().x,y:o=center().y-200}={}){if(!b){play("beep",{volume:1});var n="";const s=25;for(var e=0;e<t.length;){let h=e+s;if(h>=t.length){n+=t.substring(e);break}let l=t.lastIndexOf(" ",h);l<=e&&(l=h),n+=t.substring(e,l)+`
`,e=l+1}const a=add([anchor("center"),pos(r,o),rect(400,100,{radius:8}),outline(4,BLACK),scale(.1),opacity(1),{time:0,scaleTime:0}]),d=a.add([anchor("center"),text(n,{size:26,opacity:1}),color(BLACK)]);a.onUpdate(()=>{a.time+=dt(),a.scaleTo(K(a.time*2)),a.time>2&&(a.opacity-=dt(),d.opacity-=dt()/2)})}}const _=250;vec2(Math.cos(0),Math.sin(0)).scale(_),vec2(Math.cos(Math.PI/3),Math.sin(Math.PI/3)).scale(_),vec2(Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)).scale(_),vec2(Math.cos(Math.PI),Math.sin(Math.PI)).scale(_),vec2(Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)).scale(_),vec2(Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)).scale(_);let b=!1;function P(t){b=t}let g=0;function x(t){g=t}function w(){add([pos(10,10),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([pos(10,10),scale(2),text(`munny: ${g}`,{size:26,opacity:1}),color(BLACK)])}const B=[{name:"guy",price:50,sprite:"logo",bought:!1},{name:"werm",price:100,sprite:"werm",bought:!1},{name:"eye",price:200,sprite:"eye",bought:!1}];var M="nublin";function L(t){M=t}loadRoot("./");loadSprite("nublin","/sprites/pets/nublin.png");loadSprite("werm","/sprites/pets/werm.png");loadSprite("eye","/sprites/pets/eye.png");loadSprite("bg_day","/sprites/backgrounds/morning_bg.png");loadSprite("button_feed","/sprites/buttons/button_feed.png");loadSprite("button_feed_pressed","/sprites/buttons/button_feed_pushed.png");loadSprite("button_kill","/sprites/buttons/button_kill.png");loadSprite("button_kill_pressed","/sprites/buttons/button_kill_pushed.png");loadSprite("button_play","/sprites/buttons/button_play.png");loadSprite("button_play_pressed","/sprites/buttons/button_play_pushed.png");loadSprite("button_shop","/sprites/buttons/button_shop.png");loadSprite("button_shop_pressed","/sprites/buttons/button_shop_pushed.png");loadSprite("apple","/sprites/objects/apple.png");loadSprite("grave","/sprites/objects/grave.png");loadSprite("poop","/sprites/objects/poop.png");loadSprite("poison","/sprites/particles/effect_poison.png");loadSprite("flame","/sprites/particles/effect_flame.png");loadSprite("heart","/sprites/particles/effect_heart.png");loadSprite("enemy","/sprites/objects/enemy.png");loadSprite("enemy2","/sprites/objects/enemy2.png");loadSprite("bg_night","/sprites/backgrounds/night_bg.png");loadSprite("sword","/sprites/objects/sword.png");loadSprite("hit","/sprites/particles/effect_hit.png");loadSprite("ammo","/sprites/objects/ammo_icon.png");loadSprite("wizard","/sprites/wizard.png");loadSprite("button_exit","/sprites/buttons/button_exit.png");loadSprite("button_exit_pushed","/sprites/buttons/button_exit_pushed.png");loadSprite("guy","/sprites/craig-logo.png");loadSound("beep","/sounds/beep.mp3");loadSound("click","/sounds/click.mp3");loadSound("eat","/sounds/eat.mp3");loadSound("meow","/sounds/meow.wav");loadSound("bong","/sounds/bell.mp3");loadSound("fart","/sounds/fart.mp3");loadSound("bullet","/sounds/bullet.wav");loadSound("reload","/sounds/reload.mp3");loadSound("night_song","/sounds/skeleton_song.mp3");loadSound("hurt","/sounds/snd_hurt1.wav");loadSound("punch","/sounds/punch.wav");loadSound("bell","/sounds/snd_bell.wav");loadSound("warning","/sounds/warning.mp3");loadSound("combo1","/sounds/combo1.mp3");loadSound("combo2","/sounds/combo2.mp3");loadSound("combo3","/sounds/combo3.mp3");loadSound("combo4","/sounds/combo4.mp3");loadSound("combo5","/sounds/combo5.mp3");loadSound("empty","/sounds/empty.mp3");loadSound("dash","/sounds/snd_bombsplosion.wav");loadSound("buy","/sounds/buy.wav");scene("play",()=>{const t=play("night_song",{volume:.15});onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});var r=0,o=3;function n(){add([pos(rand(0,width()),-30),sprite("apple"),anchor("center"),area(),scale(.2),move(DOWN,200),"apple"]),wait(rand(0,3-r),n)}const e=add([pos(center().x,height()-100),sprite(M),anchor("center"),area(),scale(.2),rotate(0),animate(),{time:0,prevPos:center().clone()},"pet"]);onUpdate(()=>{const i=mousePos(),u=i.x-e.pos.x,v=i.x-Math.sign(u)*Math.min(Math.abs(u),0);e.pos.x=e.pos.x+(v-e.pos.x)*.1,e.angle=u/20,e.prevPos=e.pos.clone()});var s=[];function a(){for(const u of s)u.destroy();s=[];for(var i=0;i<o;i++){const u=add([pos(160-i*70,70),sprite("heart"),scale(.2),opacity(1)]);s[i]=u}}var d=0,h=vec2(240,10),l,y=0;onCollide("apple","pet",(i,u)=>{i.destroy(),d+=10,play("eat"),S("hit","/sprites/particles/effect_heal.png",i.pos.x,i.pos.y),shake(),l&&l.destroy(),l=f.add([pos(10,10),scale(2),text(`score: ${d}`,{size:26,opacity:1}),color(BLACK)]),d%100===0&&wait(.5,()=>{play("bell"),x(g+10),w(),y+=10})}),onUpdate("apple",i=>{i.pos.y>height()+30&&(i.destroy(),o-=1,a(),play("hurt"),shake(),o<=0&&(e.destroy(),t.stop(),add([anchor("center"),pos(center()),rect(700,300,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]).add([anchor("center"),scale(2),text(`game over
ur score: ${d}
munny earned: ${y}`,{size:26,opacity:1}),color(BLACK)]),wait(2,()=>{go("main")})))}),onUpdate(()=>{r+=dt()*.04,r=Math.min(r,2.5)});const f=add([pos(h),rect(400,100,{radius:8}),outline(4,BLACK),scale(.5),opacity(1),{time:0,scaleTime:0}]);l=f.add([pos(10,10),scale(2),text(`Score: ${d}`,{size:26,opacity:1}),color(BLACK)]),a(),n(),w();const c=add([pos(width()-100,60),sprite("button_exit"),anchor("center"),area(),scale(.7),{time:0},"button_exit"]);onClick("button_exit",()=>{play("click"),c.sprite="button_exit_pushed",wait(.2,()=>{c.sprite="button_exit",t.stop("night_song"),go("main")})})});const C=["wah wah wah!!","u listen to da strokes?","*sniff* *sniff* did u shower?","i shure hope craig getshired lol","meow","i love u","heh hehhhhh...","im on my evil grind","im just chillen!"];function I(){wait(rand(10,30),()=>{if(!b){const t=C[randi(0,C.length-1)];p({message:t})}I()})}scene("main",()=>{function t(){b||wait(rand(0,40),()=>{const m=add([pos(center().x+rand(0,600),center().y+rand(0,200)),sprite("poop"),anchor("center"),area(),scale(.5),{time:0},"poop"]);f++,m.onClick(()=>{var T=randi(0,10);T==1&&p({message:"u betta wash ya hands b4 u feed me nasty :p"}),play("beep"),S("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),m.destroy(),f--}),t()})}const r=.1,o=.5;let n=1,e=40,s=100,a=!1,d=!1,h=1,l=!1,y=!1,f=0;onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})});const c=add([pos(center()),sprite(M),anchor("center"),area(),scale(.5),animate(),{time:0},"pet"]),i=add([pos(center().x,center().y+280),sprite("button_feed"),anchor("center"),area(),scale(1),{time:0},"button_feed"]),u=add([pos(center().x+250,center().y+280),sprite("button_kill"),anchor("center"),area(),scale(1),{time:0},"button_kill"]),k=add([pos(center().x-250,center().y+280),sprite("button_play"),anchor("center"),area(),scale(1),{time:0},"button_play"]),v=add([pos(width()-100,60),sprite("button_shop"),anchor("center"),area(),scale(.7),{time:0},"button_shop"]);w(),wait(n-.5,()=>{p({message:"heh... ima pet!takea good care of me >:3 "})}),c.onUpdate(()=>{c.pos=c.pos.lerp(vec2(center().x+(mousePos().x-center().x)*r,center().y+(mousePos().y-center().y)*r),.04),c.time+=dt(),c.pos.y+=Math.sin(c.time*4),e-=dt(),d&&(h-=dt(),h<=0&&e<s&&(h=2,d=!1,l=!0)),l&&e<s&&(c.scaleBy(.99),c.scale<=vec2(.5,.5)&&(l=!1)),e<20&&!y?(p({message:"mannnn..... im hungy...."}),y=!0):e>20&&y&&(y=!1),(b||e<=0&&!b)&&(shake(),p({message:"im dead asl ðŸ’€"}),P(!0),c.destroy(),add([pos(center()),sprite("grave"),anchor("center"),area(),scale(2),animate(),{time:0},"grave"]),play("bong",{volume:.3}))}),t(),I(),c.onClick(()=>{if(a){if(time()-n>=o)if(!f&&e<s){var m=randi(0,10);m==1&&p({message:"yyummerzz >:3"}),S("heal","/sprites/particles/effect_heal.png",mousePos().x,mousePos().y),play("eat",{volume:.3}),c.scaleBy(1.05),a=!1,h=5,d=!0,b||(e+=20)}else f>0&&e>=s?(S("poison","/sprites/particles/effect_poison.png",mousePos().x,mousePos().y),p({message:"im seriously gonna throw up get that away from mee"})):f>0?(p({message:"theres like.. poop right there. nasty"}),n=time()):(p({message:"im rly fullll bro."}),n=time())}else time()-n>=o&&(n=time(),S("heart","/sprites/particles/effect_heart.png",mousePos().x,mousePos().y),play("meow",{volume:1}))}),onClick("button_feed",()=>{const m=add([pos(mousePos()),sprite("apple"),anchor("center"),area(),scale(.5),{time:0},"apple"]);i.sprite="button_feed_pressed",play("click",{}),a=!a,onUpdate(()=>{m.pos=mousePos(),a||(m.destroy(),i.sprite="button_feed")})}),onMousePress("right",()=>{a=!1}),onClick("button_kill",()=>{p({message:`why did u do that
(PRESS R TO RESET)`}),P(!0),u.sprite="button_kill_pressed",wait(.2,()=>{u.sprite="button_kill"})}),onClick("button_play",()=>{k.sprite="button_play_pressed",wait(.2,()=>{k.sprite="button_play"}),b||go("play")}),onKeyPress("r",()=>{x(0),P(!1),L("nublin"),B.forEach(m=>m.bought=!1),go("main")}),onClick("button_shop",()=>{v.sprite="button_shop_pressed",play("click"),wait(.2,()=>{v.sprite="button_shop",b||go("shop")})})});scene("shop",()=>{onDraw(()=>{drawSprite({sprite:"bg_day",pos:center(),anchor:"center"})}),add([pos(center()),sprite("wizard"),anchor("center"),area(),scale(.5),animate(),"wizard"]);var t=!1;B.forEach((o,n)=>{if(!o.bought){t=!0;const s=200,a=50;var e=o.price<=g?YELLOW:RED;add([color(e),anchor("center"),pos(s/2+10,height()-n*60-a/2-10),rect(s,a,{radius:8}),outline(4,BLACK),scale(1),opacity(1),area(),o,{time:0,scaleTime:0},"shopItem"]).add([anchor("center"),color(BLACK),text(`${o.name} - $${o.price}`,{size:24}),layer("ui"),area()]),add([anchor("center"),color(BLACK),text("add munny +10"),layer("ui"),area(),o,"addMunny"])}p(t?{message:"welcome to my shop!"}:{message:"my items are gone youve ruined me"})}),onClick("shopItem",o=>{if(g>=o.price)x(g-o.price),p({message:`here's your ${o.name}!`}),play("buy",{volume:.3}),w(),o.destroy(),o.bought=!0,L(o.name);else{switch(randi(0,10)){case 0:p({message:"come back when you're a little... ermmmm. richerrrr!"});break;case 1:p({message:"you dont have enough munny!"});break;case 2:p({message:"get lost brokie..."});break}play("hurt")}}),onClick("addMunny",o=>{x(g+10),p({message:"You added 10 munny!"}),play("click"),w()});const r=add([pos(width()-100,60),sprite("button_exit"),anchor("center"),area(),scale(.7),{time:0},"button_exit"]);onClick("button_exit",()=>{play("click"),r.sprite="button_exit_pushed",wait(.2,()=>{r.sprite="button_exit",go("main")})}),w()});go("main");
//# sourceMappingURL=index-D_-2wZgm.js.map
